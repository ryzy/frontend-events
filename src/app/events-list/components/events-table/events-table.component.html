<mat-table #table [dataSource]="dataSource">
  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->
  <mat-header-row *matHeaderRowDef="displayColumns" class="header-row"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayColumns;" class="table-row"></mat-row>

  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef class="col--name header--name"> Name </mat-header-cell>
    <mat-cell *matCellDef="let row" class="col--name cell--name">
      <h2 class="event-name">
        {{ row.name }}
        <a href="{{ row.website }}" target="_blank" class="show-on-hover"><mat-icon>open_in_new</mat-icon></a>
      </h2>
      <span class="location">{{ row.location.join(', ') }}</span>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef class="col--date header--date"> When </mat-header-cell>
    <mat-cell *matCellDef="let row" class="col--date cell--date">
      <div class="event-date">
        <ng-container *ngIf="row.date && row.date.toISOString; else noDate"> {{ row.date | date:'EE, M MMM yyyy' }}</ng-container>
        <ng-template #noDate>{{ row.date || 'TBA' }}</ng-template>
      </div>
      <div class="event-duration">
        <!-- event duration (num of days) -->
        <span class="event-duration--days"><mat-icon>event</mat-icon> {{ row.eventDuration }}</span>
        <!-- event add-ons, e.g. workshops (in num of days) -->
        <span class="event-duration--addon" *ngIf="row.eventDuration > 1"><mat-icon>perm_data_setting</mat-icon> {{ row.eventDuration - 1 }}</span>
      </div>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="price">
    <mat-header-cell *matHeaderCellDef class="col--price header--price"> Price (from) </mat-header-cell>
    <mat-cell *matCellDef="let row" class="col--price cell--price">
      {{ row.price | currency:row.priceCurrency:'symbol-narrow':'1.0' }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="focus">
    <mat-header-cell *matHeaderCellDef class="header--focus"> Focus </mat-header-cell>
    <mat-cell *matCellDef="let row" class="cell--focus text-center">
      <span *ngFor="let eventFocus of row.tags" class="badge">{{ eventFocus }}</span>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef class="col--actions header--actions text-center"></mat-header-cell>
    <mat-cell *matCellDef="let row" class="col--actions cell--actions text-center">
      <mat-icon class="show-on-hover">stars</mat-icon>
    </mat-cell>
  </ng-container>
</mat-table>
